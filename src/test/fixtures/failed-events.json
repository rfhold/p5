{"sequence":0,"timestamp":1750025949,"preludeEvent":{"config":{"debug:fail":"true","debug:reset":"false"}}}
{"sequence":1,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Ignoring error in loadCompilerOptions(tsconfig.json}): Error: ENOENT: no such file or directory, open 'tsconfig.json'\n","color":"never","severity":"debug"}}
{"sequence":2,"timestamp":1750025949,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","type":"pulumi:pulumi:Stack","old":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","id":"","parent":"","inputs":{},"outputs":{"arrayOutput":[1,2,3],"booleanOutput":true,"iteration":1,"numberOutput":42,"objectOutput":{"key":"value"},"secretOutput":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","ciphertext":"[secret]"},"stringOutput":"This is a string output"},"provider":""},"new":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","id":"","parent":"","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}}}
{"sequence":3,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Found typescript version 5.8.3 at /app/pulumi-automation/tests/fixtures/programs/node_modules/typescript/lib/typescript.js\n","color":"never","severity":"debug"}}
{"sequence":4,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Using vendored ts-node@7.0.1\n","color":"never","severity":"debug"}}
{"sequence":5,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi:pulumi:Stack, name=debug-fail-reference, custom=false, remote=false\n","color":"never","severity":"debug"}}
{"sequence":6,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=debug-fail-reference\n","color":"never","severity":"debug"}}
{"sequence":7,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:debug-fail-reference[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference,,,,\n","color":"never","severity":"debug"}}
{"sequence":8,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Running program '/app/pulumi-automation/tests/fixtures/programs/debug' in pwd '/app/pulumi-automation/tests/fixtures/programs/debug' w/ args: \n","color":"never","severity":"debug"}}
{"sequence":9,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=local:index/file:File, name=file, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":10,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Reading resource: t=pulumi:pulumi:StackReference, name=current\n","color":"never","severity":"debug"}}
{"sequence":11,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=local:index/file:File, name=iteration, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":12,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=local:index/file:File, name=new, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":13,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=random:index/randomPassword:RandomPassword, name=password, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":14,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=local:index/file:File, name=secret, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":15,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=command:local:Command, name=sleep, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":16,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=local:index/file:File, name=file-from-command, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":17,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=command:local:Command, name=fail, custom=true, remote=false\n","color":"never","severity":"debug"}}
{"sequence":18,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"ReadResource RPC prepared: id=organization/debug/fail-reference, t=pulumi:pulumi:StackReference, name=current\n","color":"never","severity":"debug"}}
{"sequence":19,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=local:index/file:File, name=file\n","color":"never","severity":"debug"}}
{"sequence":20,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=local:index/file:File, name=new\n","color":"never","severity":"debug"}}
{"sequence":21,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=command:local:Command, name=fail\n","color":"never","severity":"debug"}}
{"sequence":26,"timestamp":1750025949,"resourcePreEvent":{"metadata":{"op":"create","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::new","type":"local:index/file:File","old":null,"new":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::new","custom":true,"id":"","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"new","filename":"./files/fail-reference/new.txt"},"outputs":{},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"}}}
{"sequence":29,"timestamp":1750025949,"resourcePreEvent":{"metadata":{"op":"create","urn":"urn:pulumi:fail-reference::debug::command:local:Command::fail","type":"command:local:Command","old":null,"new":{"type":"command:local:Command","urn":"urn:pulumi:fail-reference::debug::command:local:Command::fail","custom":true,"id":"","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"addPreviousOutputInEnv":true,"create":"exit 1"},"outputs":{},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:command::default_1_1_0::825f7f0a-31e4-410c-9524-2e41ad20a681"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:command::default_1_1_0::825f7f0a-31e4-410c-9524-2e41ad20a681"}}}
{"sequence":30,"timestamp":1750025949,"resOutputsEvent":{"metadata":{"op":"create","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::new","type":"local:index/file:File","old":null,"new":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::new","custom":true,"id":"c2a6b03f190dfb2b4aa91f8af8d477a9bc3401dc","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"new","filename":"./files/fail-reference/new.txt"},"outputs":{"content":"new","contentBase64sha256":"EVB6Di9eadXfpApiob17buV+a82FxnybhDGzb/8hxDc=","contentBase64sha512":"qlTe+eC7EcHrv8l6nuY6+elcT98dAysd3MDyFmH3SGUdKyuPuU6a4EF4BVTbKYFdqhwP6ZHdrlTv8MTCjNnSDA==","contentMd5":"22af645d1859cb5ca6da0c484f1f37ea","contentSha1":"c2a6b03f190dfb2b4aa91f8af8d477a9bc3401dc","contentSha256":"11507a0e2f5e69d5dfa40a62a1bd7b6ee57e6bcd85c67c9b8431b36fff21c437","contentSha512":"aa54def9e0bb11c1ebbfc97a9ee63af9e95c4fdf1d032b1ddcc0f21661f748651d2b2b8fb94e9ae041780554db29815daa1c0fe991ddae54eff0c4c28cd9d20c","directoryPermission":"0777","filePermission":"0777","filename":"./files/fail-reference/new.txt","id":"c2a6b03f190dfb2b4aa91f8af8d477a9bc3401dc"},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"}}}
{"sequence":31,"timestamp":1750025949,"resourcePreEvent":{"metadata":{"op":"read","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","type":"pulumi:pulumi:StackReference","old":{"type":"pulumi:pulumi:StackReference","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","custom":true,"id":"organization/debug/fail-reference","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"name":"organization/debug/fail-reference"},"outputs":{"name":"organization/debug/fail-reference","outputs":{},"secretOutputNames":[]},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"},"new":{"type":"pulumi:pulumi:StackReference","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","custom":true,"id":"organization/debug/fail-reference","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"name":"organization/debug/fail-reference"},"outputs":{},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"}}}
{"sequence":32,"timestamp":1750025949,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","type":"local:index/file:File","old":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","custom":true,"id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"This is a test file","filename":"./files/fail-reference/file.txt"},"outputs":{"content":"This is a test file","contentBase64sha256":"4tD+FYWmPsYAnIAW/43aixdxmmN0BaTiPA/4EzkUgkk=","contentBase64sha512":"v+e5n7l7oySa8IzEPZv9ObIMby6XAQtZKEBtGVi0cB0vBTGH2lIsTIeN0FZ+eT2e1xBJBc2N89H2+6yeIMitkQ==","contentMd5":"0b26e313ed4a7ca6904b0e9369e5b957","contentSha1":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","contentSha256":"e2d0fe1585a63ec6009c8016ff8dda8b17719a637405a4e23c0ff81339148249","contentSha512":"bfe7b99fb97ba3249af08cc43d9bfd39b20c6f2e97010b5928406d1958b4701d2f053187da522c4c878dd0567e793d9ed7104905cd8df3d1f6fbac9e20c8ad91","directoryPermission":"0777","filePermission":"0777","filename":"./files/fail-reference/file.txt","id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32"},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"new":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","custom":true,"id":"","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"This is a test file","filename":"./files/fail-reference/file.txt"},"outputs":{},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"}}}
{"sequence":33,"timestamp":1750025949,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","type":"local:index/file:File","old":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","custom":true,"id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"This is a test file","filename":"./files/fail-reference/file.txt"},"outputs":{"content":"This is a test file","contentBase64sha256":"4tD+FYWmPsYAnIAW/43aixdxmmN0BaTiPA/4EzkUgkk=","contentBase64sha512":"v+e5n7l7oySa8IzEPZv9ObIMby6XAQtZKEBtGVi0cB0vBTGH2lIsTIeN0FZ+eT2e1xBJBc2N89H2+6yeIMitkQ==","contentMd5":"0b26e313ed4a7ca6904b0e9369e5b957","contentSha1":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","contentSha256":"e2d0fe1585a63ec6009c8016ff8dda8b17719a637405a4e23c0ff81339148249","contentSha512":"bfe7b99fb97ba3249af08cc43d9bfd39b20c6f2e97010b5928406d1958b4701d2f053187da522c4c878dd0567e793d9ed7104905cd8df3d1f6fbac9e20c8ad91","directoryPermission":"0777","filePermission":"0777","filename":"./files/fail-reference/file.txt","id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32"},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"new":{"type":"local:index/file:File","urn":"urn:pulumi:fail-reference::debug::local:index/file:File::file","custom":true,"id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"content":"This is a test file","filename":"./files/fail-reference/file.txt"},"outputs":{"content":"This is a test file","contentBase64sha256":"4tD+FYWmPsYAnIAW/43aixdxmmN0BaTiPA/4EzkUgkk=","contentBase64sha512":"v+e5n7l7oySa8IzEPZv9ObIMby6XAQtZKEBtGVi0cB0vBTGH2lIsTIeN0FZ+eT2e1xBJBc2N89H2+6yeIMitkQ==","contentMd5":"0b26e313ed4a7ca6904b0e9369e5b957","contentSha1":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32","contentSha256":"e2d0fe1585a63ec6009c8016ff8dda8b17719a637405a4e23c0ff81339148249","contentSha512":"bfe7b99fb97ba3249af08cc43d9bfd39b20c6f2e97010b5928406d1958b4701d2f053187da522c4c878dd0567e793d9ed7104905cd8df3d1f6fbac9e20c8ad91","directoryPermission":"0777","filePermission":"0777","filename":"./files/fail-reference/file.txt","id":"91b7b0b1e27bfbf7bc646946f35fa972c47c2d32"},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:local::default_0_1_6::67a09906-9fe8-4f9b-9634-cea5b0d5eb5f"}}}
{"sequence":34,"timestamp":1750025949,"diagnosticEvent":{"urn":"urn:pulumi:fail-reference::debug::command:local:Command::fail","prefix":"error: ","message":"exit status 1: running \"exit 1\":\n\n","color":"never","severity":"error"}}
{"sequence":35,"timestamp":1750025949,"resOpFailedEvent":{"metadata":{"op":"create","urn":"urn:pulumi:fail-reference::debug::command:local:Command::fail","type":"command:local:Command","old":null,"new":{"type":"command:local:Command","urn":"urn:pulumi:fail-reference::debug::command:local:Command::fail","custom":true,"id":"","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"addPreviousOutputInEnv":true,"create":"exit 1"},"outputs":{},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:command::default_1_1_0::825f7f0a-31e4-410c-9524-2e41ad20a681"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:command::default_1_1_0::825f7f0a-31e4-410c-9524-2e41ad20a681"},"status":0,"steps":3}}
{"sequence":36,"timestamp":1750025949,"resOutputsEvent":{"metadata":{"op":"read","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","type":"pulumi:pulumi:StackReference","old":{"type":"pulumi:pulumi:StackReference","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","custom":true,"id":"organization/debug/fail-reference","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"name":"organization/debug/fail-reference"},"outputs":{"name":"organization/debug/fail-reference","outputs":{},"secretOutputNames":[]},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"},"new":{"type":"pulumi:pulumi:StackReference","urn":"urn:pulumi:fail-reference::debug::pulumi:pulumi:StackReference::current","custom":true,"id":"organization/debug/fail-reference","parent":"urn:pulumi:fail-reference::debug::pulumi:pulumi:Stack::debug-fail-reference","inputs":{"name":"organization/debug/fail-reference"},"outputs":{"name":"organization/debug/fail-reference","outputs":{"arrayOutput":[1,2,3],"booleanOutput":true,"iteration":1,"numberOutput":42,"objectOutput":{"key":"value"},"secretOutput":{"4dabf18193072939515e22adb298388d":"1b47061264138c4ac30d75fd1eb44270","ciphertext":"[secret]"},"stringOutput":"This is a string output"},"secretOutputNames":["secretOutput"]},"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:fail-reference::debug::pulumi:providers:pulumi::default::898f03cc-5c7b-47fd-87a4-29aa639fd242"}}}
{"sequence":37,"timestamp":1750025949,"diagnosticEvent":{"prefix":"error: ","message":"update failed\n","color":"never","severity":"error"}}
{"sequence":38,"timestamp":1750025949,"summaryEvent":{"maybeCorrupt":false,"durationSeconds":1,"resourceChanges":{"create":1,"read":1,"same":2},"PolicyPacks":{}}}
{"sequence":39,"timestamp":1750025949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:file[local:index/file:File]; err: null, resp: urn:pulumi:fail-reference::debug::local:index/file:File::file,91b7b0b1e27bfbf7bc646946f35fa972c47c2d32,content,,,This is a test file,contentBase64sha256,,,4tD+FYWmPsYAnIAW/43aixdxmmN0BaTiPA/4EzkUgkk=,contentBase64sha512,,,v+e5n7l7oySa8IzEPZv9ObIMby6XAQtZKEBtGVi0cB0vBTGH2lIsTIeN0FZ+eT2e1xBJBc2N89H2+6yeIMitkQ==,contentMd5,,,0b26e313ed4a7ca6904b0e9369e5b957,contentSha1,,,91b7b0b1e27bfbf7bc646946f35fa972c47c2d32,contentSha256,,,e2d0fe1585a63ec6009c8016ff8dda8b17719a637405a4e23c0ff81339148249,contentSha512,,,bfe7b99fb97ba3249af08cc43d9bfd39b20c6f2e97010b5928406d1958b4701d2f053187da522c4c878dd0567e793d9ed7104905cd8df3d1f6fbac9e20c8ad91,directoryPermission,,,0777,filePermission,,,0777,filename,,,./files/fail-reference/file.txt,id,,,91b7b0b1e27bfbf7bc646946f35fa972c47c2d32,,\n","color":"never","severity":"debug"}}
{"sequence":40,"timestamp":1750025949,"cancelEvent":{}}
